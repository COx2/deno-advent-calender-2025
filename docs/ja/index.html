<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deno C++ Project Generator</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
    <header class="hero">
        <div class="container">
            <h1>Deno C++ Project Generator</h1>
            <p class="tagline">URL一行でC++/CMakeプロジェクトを生成</p>
            <div class="hero-buttons">
                <a href="#quick-start" class="btn btn-primary">Quick Start</a>
                <a href="https://github.com/COx2/deno-advent-calender-2025" class="btn btn-secondary">GitHub</a>
            </div>
        </div>
    </header>

    <nav class="navbar">
        <div class="container">
            <ul>
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="usage.html">Usage</a></li>
                <li><a href="architecture.html">Architecture</a></li>
                <li class="lang-switcher"><a href="../en/index.html">EN</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <section id="overview">
            <h2>Overview</h2>
            <p>
                このツールは、DenoのURL実行機能を活用したC++/CMakeプロジェクトジェネレータです。
                URLを指定して<code>deno run</code>するだけで、すぐに使えるC++プロジェクトが生成されます。
            </p>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">🚀</div>
                    <h3>インストール不要</h3>
                    <p>Denoさえあれば、URLから直接実行できます。ツールのインストールや設定は不要です。</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📦</div>
                    <h3>すぐ使えるテンプレート</h3>
                    <p>CMake、Denoビルドスクリプト、C++ソースファイルが揃った状態で生成されます。</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔧</div>
                    <h3>型安全なビルドシステム</h3>
                    <p>TypeScriptで書かれたビルドスクリプトにより、型安全なビルド自動化を実現します。</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🌍</div>
                    <h3>クロスプラットフォーム</h3>
                    <p>Windows、macOS、Linuxで同じスクリプトが動作します。</p>
                </div>
            </div>
        </section>

        <section id="quick-start">
            <h2>Quick Start</h2>

            <h3>Step 1: Denoをインストール</h3>
            <p>まだDenoをインストールしていない場合：</p>

            <div class="code-tabs">
                <button class="tab-btn active" data-tab="mac">macOS/Linux</button>
                <button class="tab-btn" data-tab="win">Windows</button>
            </div>
            <div class="tab-content active" id="mac">
                <pre><code class="language-bash">curl -fsSL https://deno.land/install.sh | sh</code></pre>
            </div>
            <div class="tab-content" id="win">
                <pre><code class="language-powershell">irm https://deno.land/install.ps1 | iex</code></pre>
            </div>

            <h3>Step 2: プロジェクトを生成</h3>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <pre><code class="language-bash" id="generate-cmd">deno run --allow-read --allow-write --allow-run https://raw.githubusercontent.com/COx2/deno-advent-calender-2025/main/generator/generate.ts --name "MyProject" --author "Your Name" --with-git</code></pre>
            </div>

            <h3>Step 3: ビルド & 実行</h3>
            <pre><code class="language-bash">cd myproject
deno task build
deno task test</code></pre>

            <div class="output-example">
                <h4>出力例</h4>
                <pre><code>====================
| MyProject Calculator |
====================
Version: 1.0.0

10 + 5 = 15
10 x 5 = 50</code></pre>
            </div>
        </section>

        <section id="generated-structure">
            <h2>生成されるプロジェクト構造</h2>
            <pre><code class="language-text">myproject/
├── src/
│   ├── main.cpp           # メインアプリケーション
│   ├── core/              # 静的ライブラリ (myproject_core)
│   │   ├── core.h
│   │   └── core.cpp
│   └── utils/             # 共有ライブラリ (myproject_utils)
│       ├── utils.h
│       └── utils.cpp
├── CMakeLists.txt         # CMake設定
├── build.ts               # メインビルドスクリプト
├── build.config.ts        # ビルド設定
├── cmake-file-api.ts      # CMake File API連携
├── cmake-types.ts         # TypeScript型定義
├── deno.json              # Denoタスク設定
└── .gitignore</code></pre>
        </section>

        <section id="why-deno">
            <h2>なぜDenoを使うのか？</h2>

            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>特徴</th>
                            <th>従来のシェルスクリプト</th>
                            <th>Deno + TypeScript</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>型安全性</td>
                            <td>なし</td>
                            <td>TypeScriptによる完全な型チェック</td>
                        </tr>
                        <tr>
                            <td>クロスプラットフォーム</td>
                            <td>BashスクリプトはWindowsで動かない</td>
                            <td>どのOSでも同じコード</td>
                        </tr>
                        <tr>
                            <td>依存関係管理</td>
                            <td>手動で管理</td>
                            <td>URLインポートで自動解決</td>
                        </tr>
                        <tr>
                            <td>IDE サポート</td>
                            <td>限定的</td>
                            <td>VSCodeで完全サポート</td>
                        </tr>
                        <tr>
                            <td>セキュリティ</td>
                            <td>すべてのコマンドが実行可能</td>
                            <td>明示的なパーミッション</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="technologies">
            <h2>使用技術</h2>
            <ul class="tech-list">
                <li>
                    <strong>Deno</strong> - セキュアなTypeScript/JavaScriptランタイム
                    <a href="https://deno.land/">deno.land</a>
                </li>
                <li>
                    <strong>dax</strong> - Denoのクロスプラットフォームシェルツール
                    <a href="https://jsr.io/@david/dax">jsr.io/@david/dax</a>
                </li>
                <li>
                    <strong>CMake</strong> - クロスプラットフォームビルドシステム
                    <a href="https://cmake.org/">cmake.org</a>
                </li>
                <li>
                    <strong>CMake File API</strong> - ビルド情報のプログラマティックなアクセス
                    <a href="https://cmake.org/cmake/help/latest/manual/cmake-file-api.7.html">Documentation</a>
                </li>
            </ul>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>
                Created for <a href="https://qiita.com/advent-calendar/2025/deno">Deno Advent Calendar 2025</a>
            </p>
            <p>
                <a href="https://github.com/COx2/deno-advent-calender-2025">GitHub Repository</a> |
                MIT License
            </p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-powershell.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
    <script>
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.dataset.tab;
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });

        function copyCode(btn) {
            const codeBlock = btn.parentElement.querySelector('code');
            const text = codeBlock.textContent;
            navigator.clipboard.writeText(text).then(() => {
                btn.textContent = 'Copied!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = 'Copy';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }
    </script>
</body>
</html>
